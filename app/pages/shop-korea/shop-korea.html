<!--
  Generated template for the ShopKoreaPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar>
  <ion-title>알뜰구매</ion-title>
</ion-navbar>

<ion-toolbar>
  <ion-searchbar primary
                 [(ngModel)]="queryText"
                 (ionInput)="updateSchedule()"
                 placeholder="Search">
  </ion-searchbar>
</ion-toolbar>

<ion-content padding class="shop-korea">

  <ion-list>
    <ion-refresher (refresh)="doRefresh($event)">
      <ion-refresher-content pullingIcon="arrow-down" pullingText="PULL_TO_REFRESH" refreshingSpinner="circles" refreshingText="REFRESHING">
      </ion-refresher-content>
    </ion-refresher>
    <ion-item *ngIf="itemList.length == 0">
      <ion-spinner></ion-spinner>데이터 조회중 입니다.
    </ion-item>
    <ion-item-sliding *ngFor="#item of itemsShow">
      <button full ion-item (click)="openLink(item)">
        <img class="small" item-left src="{{item.imgSrc | default: 'https://goo.gl/nwe4wR'}}" />
          <h3 *ngIf="!item.soldOut">{{item.title}}</h3>
          <h3 [ngClass]="{soldOut:item.soldOut}" *ngIf="item.soldOut">종료:{{item.title}}</h3>
            <p>
              <span *ngIf="item.price"> <ion-icon name="pricetag" > {{item.price}} </ion-icon></span>
              <span *ngIf="item.reply" > <ion-icon name="chatboxes"> {{item.reply}} </ion-icon></span>
              <span *ngIf="item.good" > <ion-icon name="heart" > {{item.good}} </ion-icon></span>              
              <span *ngIf="item.read" > <ion-icon name="book" > {{item.read}} </ion-icon></span>
              <span *ngIf="item.dateFormat"> <ion-icon name="time" > {{item.dateFormat | shortdate}} </ion-icon></span>
            </p>
        </button>
    </ion-item-sliding>
    <ion-infinite-scroll (infinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </ion-list>

</ion-content>